import{g as F,h as _,r as h,l as B,n as j,H as ct,J as dt,_ as n,T as S,k as o,j as $,s as x,S as it,q as L,t as D,L as T,d as pt,K as ut,b as mt,i as st,v as k,M as gt,N as bt,O as ot,P as ft,y as Y,D as vt,z as yt,A as ht,E as at,Q as rt,R as xt,U as Ct,V as nt,W as $t,X as wt}from"./index-BV6NvCsd.js";function It(t){return _("MuiFormControlLabel",t)}const G=F("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),St=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],kt=t=>{const{classes:e,disabled:s,labelPlacement:a,error:l,required:r}=t,d={root:["root",s&&"disabled",`labelPlacement${L(a)}`,l&&"error",r&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",l&&"error"]};return D(d,It,e)},Lt=x("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${G.label}`]:e.label},e.root,e[`labelPlacement${L(s.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>n({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${G.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${G.label}`]:{[`&.${G.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),Pt=x("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${G.error}`]:{color:(t.vars||t).palette.error.main}})),Rt=h.forwardRef(function(e,s){var a,l;const r=B({props:e,name:"MuiFormControlLabel"}),{className:d,componentsProps:u={},control:c,disabled:g,disableTypography:b,label:f,labelPlacement:i="end",required:p,slotProps:m={}}=r,v=j(r,St),C=ct(),w=(a=g??c.props.disabled)!=null?a:C==null?void 0:C.disabled,O=p??c.props.required,V={disabled:w,required:O};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof c.props[A]>"u"&&typeof r[A]<"u"&&(V[A]=r[A])});const W=dt({props:r,muiFormControl:C,states:["error"]}),z=n({},r,{disabled:w,labelPlacement:i,required:O,error:W.error}),U=kt(z),q=(l=m.typography)!=null?l:u.typography;let I=f;return I!=null&&I.type!==S&&!b&&(I=o.jsx(S,n({component:"span"},q,{className:$(U.label,q==null?void 0:q.className),children:I}))),o.jsxs(Lt,n({className:$(U.root,d),ownerState:z,ref:s},v,{children:[h.cloneElement(c,V),O?o.jsxs(it,{display:"block",children:[I,o.jsxs(Pt,{ownerState:z,"aria-hidden":!0,className:U.asterisk,children:["â€‰","*"]})]}):I]}))});function jt(t){return _("MuiListItem",t)}const M=F("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),At=F("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Nt(t){return _("MuiListItemSecondaryAction",t)}F("MuiListItemSecondaryAction",["root","disableGutters"]);const Mt=["className"],Tt=t=>{const{disableGutters:e,classes:s}=t;return D({root:["root",e&&"disableGutters"]},Nt,s)},Ft=x("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.disableGutters&&e.disableGutters]}})(({ownerState:t})=>n({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),lt=h.forwardRef(function(e,s){const a=B({props:e,name:"MuiListItemSecondaryAction"}),{className:l}=a,r=j(a,Mt),d=h.useContext(T),u=n({},a,{disableGutters:d.disableGutters}),c=Tt(u);return o.jsx(Ft,n({className:$(c.root,l),ownerState:u,ref:s},r))});lt.muiName="ListItemSecondaryAction";const Bt=["className"],Dt=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Ot=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters,!s.disablePadding&&e.padding,s.button&&e.button,s.hasSecondaryAction&&e.secondaryAction]},zt=t=>{const{alignItems:e,button:s,classes:a,dense:l,disabled:r,disableGutters:d,disablePadding:u,divider:c,hasSecondaryAction:g,selected:b}=t;return D({root:["root",l&&"dense",!d&&"gutters",!u&&"padding",c&&"divider",r&&"disabled",s&&"button",e==="flex-start"&&"alignItemsFlexStart",g&&"secondaryAction",b&&"selected"],container:["container"]},jt,a)},Ut=x("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ot})(({theme:t,ownerState:e})=>n({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&n({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${At.root}`]:{paddingRight:48}},{[`&.${M.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${M.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:k.alpha(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${M.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:k.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${M.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:k.alpha(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:k.alpha(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),qt=x("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),Et=h.forwardRef(function(e,s){const a=B({props:e,name:"MuiListItem"}),{alignItems:l="center",autoFocus:r=!1,button:d=!1,children:u,className:c,component:g,components:b={},componentsProps:f={},ContainerComponent:i="li",ContainerProps:{className:p}={},dense:m=!1,disabled:v=!1,disableGutters:C=!1,disablePadding:w=!1,divider:O=!1,focusVisibleClassName:V,secondaryAction:W,selected:z=!1,slotProps:U={},slots:q={}}=a,I=j(a.ContainerProps,Bt),A=j(a,Dt),J=h.useContext(T),X=h.useMemo(()=>({dense:m||J.dense||!1,alignItems:l,disableGutters:C}),[l,J.dense,m,C]),K=h.useRef(null);pt(()=>{r&&K.current&&K.current.focus()},[r]);const N=h.Children.toArray(u),Q=N.length&&ut(N[N.length-1],["ListItemSecondaryAction"]),H=n({},a,{alignItems:l,autoFocus:r,button:d,dense:X.dense,disabled:v,disableGutters:C,disablePadding:w,divider:O,hasSecondaryAction:Q,selected:z}),tt=zt(H),et=mt(K,s),Z=q.root||b.Root||Ut,E=U.root||f.root||{},P=n({className:$(tt.root,E.className,c),disabled:v},A);let R=g||"li";return d&&(P.component=g||"div",P.focusVisibleClassName=$(M.focusVisible,V),R=gt),Q?(R=!P.component&&!g?"div":R,i==="li"&&(R==="li"?R="div":P.component==="li"&&(P.component="div")),o.jsx(T.Provider,{value:X,children:o.jsxs(qt,n({as:i,className:$(tt.container,p),ref:et,ownerState:H},I,{children:[o.jsx(Z,n({},E,!st(Z)&&{as:R,ownerState:n({},H,E.ownerState)},P,{children:N})),N.pop()]}))})):o.jsx(T.Provider,{value:X,children:o.jsxs(Z,n({},E,{as:R,ref:et},!st(Z)&&{ownerState:n({},H,E.ownerState)},P,{children:[N,W&&o.jsx(lt,{children:W})]}))})});function Gt(t){return _("MuiListItemAvatar",t)}F("MuiListItemAvatar",["root","alignItemsFlexStart"]);const _t=["className"],Vt=t=>{const{alignItems:e,classes:s}=t;return D({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Gt,s)},Wt=x("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>n({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),Ht=h.forwardRef(function(e,s){const a=B({props:e,name:"MuiListItemAvatar"}),{className:l}=a,r=j(a,_t),d=h.useContext(T),u=n({},a,{alignItems:d.alignItems}),c=Vt(u);return o.jsx(Wt,n({className:$(c.root,l),ownerState:u,ref:s},r))}),Zt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Xt=t=>{const{classes:e,inset:s,primary:a,secondary:l,dense:r}=t;return D({root:["root",s&&"inset",r&&"dense",a&&l&&"multiline"],primary:["primary"],secondary:["secondary"]},bt,e)},Kt=x("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[{[`& .${ot.primary}`]:e.primary},{[`& .${ot.secondary}`]:e.secondary},e.root,s.inset&&e.inset,s.primary&&s.secondary&&e.multiline,s.dense&&e.dense]}})(({ownerState:t})=>n({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Yt=h.forwardRef(function(e,s){const a=B({props:e,name:"MuiListItemText"}),{children:l,className:r,disableTypography:d=!1,inset:u=!1,primary:c,primaryTypographyProps:g,secondary:b,secondaryTypographyProps:f}=a,i=j(a,Zt),{dense:p}=h.useContext(T);let m=c??l,v=b;const C=n({},a,{disableTypography:d,inset:u,primary:!!m,secondary:!!v,dense:p}),w=Xt(C);return m!=null&&m.type!==S&&!d&&(m=o.jsx(S,n({variant:p?"body2":"body1",className:w.primary,component:g!=null&&g.variant?void 0:"span",display:"block"},g,{children:m}))),v!=null&&v.type!==S&&!d&&(v=o.jsx(S,n({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},f,{children:v}))),o.jsxs(Kt,n({className:$(w.root,r),ownerState:C,ref:s},i,{children:[m,v]}))});function Jt(t){return _("MuiSwitch",t)}const y=F("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Qt=["className","color","edge","size","sx"],te=t=>{const{classes:e,edge:s,size:a,color:l,checked:r,disabled:d}=t,u={root:["root",s&&`edge${L(s)}`,`size${L(a)}`],switchBase:["switchBase",`color${L(l)}`,r&&"checked",d&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=D(u,Jt,e);return n({},e,c)},ee=x("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.edge&&e[`edge${L(s.edge)}`],e[`size${L(s.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${y.thumb}`]:{width:16,height:16},[`& .${y.switchBase}`]:{padding:4,[`&.${y.checked}`]:{transform:"translateX(16px)"}}}}]}),se=x(ft,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.switchBase,{[`& .${y.input}`]:e.input},s.color!=="default"&&e[`color${L(s.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${y.checked}`]:{transform:"translateX(20px)"},[`&.${y.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${y.checked} + .${y.track}`]:{opacity:.5},[`&.${y.disabled} + .${y.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${y.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:k.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${y.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:k.alpha(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?k.lighten(t.palette[e].main,.62):k.darken(t.palette[e].main,.55)}`}},[`&.${y.checked} + .${y.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),oe=x("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),ae=x("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),re=h.forwardRef(function(e,s){const a=B({props:e,name:"MuiSwitch"}),{className:l,color:r="primary",edge:d=!1,size:u="medium",sx:c}=a,g=j(a,Qt),b=n({},a,{color:r,edge:d,size:u}),f=te(b),i=o.jsx(ae,{className:f.thumb,ownerState:b});return o.jsxs(ee,{className:$(f.root,l),sx:c,ownerState:b,children:[o.jsx(se,n({type:"checkbox",icon:i,checkedIcon:i,ref:s,ownerState:b},g,{classes:n({},f,{root:f.switchBase})})),o.jsx(oe,{className:f.track,ownerState:b})]})});function ie(){const t=Y(i=>i.downloadModalOpen),e=()=>Y.getState().closeDownloadModal(),{items:s,selected:a,global:l}=Y.getState(),[r,d]=h.useState(!1),u=i=>i.flatMap(p=>(Array.isArray(p.formats)?p.formats:[]).map(v=>({file:p.file,fmt:v,q:p.q??l.q,baseName:(p.customName||p.name).replace(/\.[^/.]+$/,"")}))),c=s.filter(i=>a.has(i.id)),g=u(c),b=u(s),f=async i=>{if(r){const p=[];for(const m of i){const{blob:v}=await nt(m.file,m.fmt,m.q);p.push({blob:v,name:`${m.baseName}.${m.fmt}`})}return $t(p)}else for(const p of i){const{blob:m}=await nt(p.file,p.fmt,p.q);wt(m,`${p.baseName}.${p.fmt}`)}};return o.jsxs(vt,{open:t,onClose:e,fullWidth:!0,maxWidth:"sm",role:"dialog","aria-labelledby":"download-dialog-title",children:[o.jsx(yt,{id:"download-dialog-title",children:"Download"}),o.jsx(ht,{children:s.length===0?o.jsx(S,{children:"No files available"}):o.jsxs(o.Fragment,{children:[o.jsx(Rt,{control:o.jsx(re,{checked:r,onChange:i=>d(i.target.checked),color:"primary"}),label:"Download as ZIP archive"}),o.jsxs(it,{direction:"column",spacing:2,mt:2,children:[o.jsx(at,{startIcon:o.jsx(rt,{}),variant:"contained",fullWidth:!0,disabled:g.length===0,onClick:()=>f(g),children:r?`Download Selected as ZIP (${g.length})`:`Download Selected (${g.length})`}),o.jsx(at,{startIcon:o.jsx(rt,{}),variant:"contained",fullWidth:!0,onClick:()=>f(b),children:r?`Download All as ZIP (${b.length})`:`Download All (${b.length})`})]}),c.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(S,{variant:"subtitle1",mt:3,mb:1,children:["Selected items (",c.length,"):"]}),o.jsx(xt,{"aria-label":"Selected items to download",sx:{maxHeight:200,overflowY:"auto"},children:c.map(i=>o.jsxs(Et,{children:[o.jsx(Ht,{children:o.jsx(Ct,{src:i.urlC||i.url})}),o.jsx(Yt,{primary:i.customName||i.name,secondary:`${((i.sizeO??0)/1024).toFixed(1)} KB`})]},i.id))})]})]})})]})}export{ie as default};
